(function e(t,n,r){function a(o,c){if(!n[o]){if(!t[o]){var i=typeof require=="function"&&require;if(!c&&i)return i(o,!0);if(u)return u(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var s=n[o]={exports:{}};t[o][0].call(s.exports,function(e){var n=t[o][1][e];return a(n?n:e)},s,s.exports,e,t,n,r)}return n[o].exports}var u=typeof require=="function"&&require;for(var o=0;o<r.length;o++)a(r[o]);return a})({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=e("./index");function a(e,t,n,a){return t.do(function(e){if(!r.isPlainObject(e)){return console.error("Please provide an object with at least a `type` property")}if(typeof e.type!=="string"){return console.error("Action was missing a `type` property",e)}}).withLatestFrom(n,a,function(e,t,n){var r=n.filter(function(t){return t.name===e.type});return{action:e,reducers:r.concat(t)}}).scan(function(e,t){var n=t.action,a=t.reducers;var u=n.type||(typeof n==="string"?n:"");if(u.indexOf("@@NS-INIT")===0){return e.setIn(n.payload.path,r.alwaysMap((n.payload||{}).value))}else{return a.reduce(function(e,t){var a=t.type===r.ReducerTypes.MappedReducer?n.payload:n;return e.updateIn(t.path,function(n){return t.fns.reduce(function(t,n){return n.call(null,t,a,e)},n)})},e)}},e)}n.actionStream=a},{"./index":4}],2:[function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a))e[a]=t[a]}return e};Object.defineProperty(n,"__esModule",{value:true});var a=e("./index");var u=e("./addReducers");function o(e,t,n,o){var c={ofType:function(e){return t.filter(function(t){return t.action.type===e})}};var i=Object.assign({},n,o.getValue());return a.alwaysArray(e).reduce(function(e,n){if(typeof n!=="function"){console.error("Effects must be functions, you provided",n)}var a=function(){if(n.triggers&&Array.isArray(n.triggers)){return t.filter(function(e){return~n.triggers.indexOf(e.action.type)})}if(n.trigger&&typeof n.trigger==="string"){return t.filter(function(e){return n.trigger===e.action.type})}return c}();var o=n.call(null,a,i);return e.concat({type:u.InputTypes.Effect,payload:o.map(function(e){return r({},e,{via:"[effect]",name:n.name||""})})})},[])}n.gatherEffects=o},{"./addReducers":3,"./index":4}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=e("./index");var a;(function(e){e[e["Reducer"]="Reducer"]="Reducer";e[e["MappedReducer"]="MappedReducers"]="MappedReducer";e[e["Effect"]="Effect"]="Effect";e[e["State"]="State"]="State"})(a=n.InputTypes||(n.InputTypes={}));function u(e){return t(e,[]);function t(e,n){return r.alwaysArray(e).reduce(function(e,u){if(typeof u==="function"){return e.concat({type:a.Reducer,payload:{path:[],fns:[u]}})}if(r.isPlainObject(u)){if(u.state){var o,c=void 0,i=void 0;if(u.reducers){o=Object.keys(u.state).reduce(function(e,n){return e.concat(t({path:n,fns:u.reducers},[]))},[])}if(u.effects){i=u.effects}c=u.state;return e.concat(o,{type:a.Effect,payload:i},{type:a.State,payload:c})}if(u.path&&u.reducers){var f=Object.keys(u.reducers).reduce(function(e,t){var n=u.reducers[t];return e.concat({type:a.MappedReducer,payload:{path:[].concat(u.path),fns:[n],name:t,type:r.ReducerTypes.MappedReducer}})},[]);return e.concat(f)}if(u.path&&u.fns){return e.concat({type:a.Reducer,payload:{path:[].concat(u.path).filter(Boolean),fns:[].concat(u.fns).filter(Boolean)}},n)}else{var s=Object.keys(u).reduce(function(e,t){return e.concat({type:a.Reducer,payload:{path:[].concat(t).filter(Boolean),fns:[].concat(u[t]).filter(Boolean)}})},[]);return e.concat(s)}}return e},n)}}n.gatherReducers=u},{"./index":4}],4:[function(e,t,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=typeof window!=="undefined"?window["Rx"]:typeof t!=="undefined"?t["Rx"]:null;var a=typeof window!=="undefined"?window["Immutable"]:typeof t!=="undefined"?t["Immutable"]:null;var u=e("./actions");var o=e("./responses");var c=e("./addReducers");var i=e("./addEffects");var f=e("./subjects");var s=r.BehaviorSubject;var d=r.Subject;var p;(function(e){e[e["MappedReducer"]="MappedReducer"]="MappedReducer";e[e["GlobalReducer"]="GlobalReducer"]="GlobalReducer"})(p=n.ReducerTypes||(n.ReducerTypes={}));function l(e,t,n,r,a){var p=h(e);var l=new s(p);var w=[];var b=new s({});var g=new d;w.push(g.scan(f.newExtrasFn,{}).subscribe(b));var R=new s([]);var O=new d;w.push(O.scan(f.concatFn,[]).subscribe(R));var x=new s([]);var M=new d;w.push(M.scan(f.concatFn,[]).subscribe(x));var j=new s([]);var m=new d;w.push(m.scan(f.concatFn,[]).subscribe(j));var S=new d;w.push(u.actionStream(p,S,R,x).subscribe(l));var E=S.withLatestFrom(l,function(e,t){return{action:e,state:t}});w.push(o.handleResponses(E,j).subscribe(function(e){return N(e)}));var I={state$:l,action$:S,actionsWithState$:E,actionsWithResultingStateUpdate$:E};function N(e){if(Array.isArray(e)){return e.forEach(function(e){S.onNext(e)})}return S.onNext(e)}function _(e){y(e).forEach(function(e){e.call(null,B)})}function T(e){y(e).forEach(function(e){g.onNext(e)})}function P(e){for(var t in e){N({type:"@@NS-INIT("+t+")",payload:{path:[t],value:e[t]}})}}function F(e){y(e).forEach(function(e){Object.keys(e).forEach(function(t){var n=e[t];m.onNext({name:t,path:[].concat(n.path).filter(Boolean),targetName:n.action})})})}function A(e){i.gatherEffects(e,E,I,b).forEach(function(e){if(e.type===c.InputTypes.Effect){w.push(e.payload.subscribe(N))}})}function $(e){c.gatherReducers(e).forEach(function(e){if(e.type===c.InputTypes.Reducer){O.onNext(e.payload)}if(e.type===c.InputTypes.MappedReducer){M.onNext(e.payload)}if(e.type===c.InputTypes.State){P(e.payload)}})}var B={isOpen:true,state$:l,action$:S,actionsWithState$:E,actionsWithResultingStateUpdate$:E,register:function(e){var t=e.state,n=e.reducers,r=e.effects,a=e.responses;if(t){P(t)}if(n){$(n)}if(r){A(r)}if(a){F(a)}return B},addReducers:function(e){$(e);return B},dispatch:function(e){N(e);return B},getState:function(e){var t=y(e);return l.getValue().getIn(t,v({}))},toJS:function(e){var t=y(e);return l.getValue().getIn(t,v({})).toJS()},toJSON:function(e){var t=y(e);return l.getValue().getIn(t,v({})).toJSON()},addMiddleware:function(e){_(e);return B},once:function(e){var t=y(e);return E.filter(function(e){return t.indexOf(e.action.type)>-1}).take(1)},changes:function(e){var t=y(e);return l.map(function(e){return e.getIn(t)}).distinctUntilChanged()},addExtras:function(e){T(e);return B},close:function(){if(B.isOpen){w.forEach(function(e){return e.dispose()});B.isOpen=false}return B}};$(t);A(n);_(r);T(a);return B}n.createStore=l;function y(e){return[].concat(e).filter(Boolean)}n.alwaysArray=y;function v(e){return a.Map(e)}n.getMap=v;function h(e){return a.Map.isMap(e)?e:a.fromJS(e||{})}n.alwaysMap=h;function w(e){var t="[object Object]";return Object.prototype.toString.call(e)===t}n.isPlainObject=w;n.default=l;if(typeof window!=="undefined"&&typeof window.staunch==="undefined"){window.staunch={createStore:l}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./actions":1,"./addEffects":2,"./addReducers":3,"./responses":5,"./subjects":6}],5:[function(e,t,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=typeof window!=="undefined"?window["Rx"]:typeof t!=="undefined"?t["Rx"]:null;var a=e("./index");function u(e,t){return e.withLatestFrom(t).filter(function(e){var t=e[0],n=e[1];return n.length>0}).flatMap(function(e){var t=e[0],n=t.action,u=t.state;var o=e[1];var c=n.type;var i=o.filter(function(e){return e.name===c});var f=i.map(function(e){return{type:e.targetName,payload:u.getIn(e.path,a.getMap({})).toJS(),via:"[response to ("+c+")]"}});return r.Observable.from(f)})}n.handleResponses=u}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./index":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});function r(e,t){return Object.assign({},e,t)}n.newExtrasFn=r;function a(e,t){return e.concat(t)}n.concatFn=a},{}]},{},[4]);
//# sourceMappingURL=browser.min.js.map
